Bootstrap: docker
From: python:3.10

%files
    # Copy requirements file into container
    requirements.txt /requirements.txt
    
%post
    # Set noninteractive frontend
    export DEBIAN_FRONTEND=noninteractive
    
    # Create directories
    mkdir -p /opt /tmp

    # Install Python packages from requirements
    python3 -m pip install --no-cache-dir -r /requirements.txt


%environment
    export PYTHONPATH=/opt:$PYTHONPATH
    export PYTHONUNBUFFERED=1


%runscript
    python3 "$@"

