Bootstrap: docker
From: python:3.10-slim-bullseye

%files
    # Copy requirements file into container
    requirements.txt /requirements.txt
    # Copy environment file into container
    container.env /opt/.env

%post
    # Set noninteractive frontend
    export DEBIAN_FRONTEND=noninteractive
    
    # Create directories
    mkdir -p /opt /tmp

    # Install Python packages from requirements
    pip install --no-cache-dir -r /requirements.txt

%environment
    export PYTHONPATH=/opt:$PYTHONPATH
    export PYTHONUNBUFFERED=1

%runscript
    python3 "$@"

